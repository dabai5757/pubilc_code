[uwsgi]
# 应用模块
module = app:app

# 主进程设置
master = true

# 进程数
processes = 4

# 使用 Unix socket 进行通信，确保路径唯一
socket = /tmp/uwsgi_sso_login.sock
chmod-socket = 660

# 开启线程支持
enable-threads = true

# 设置日志文件路径
logto = /var/log/uwsgi/uwsgi_sso_login.log

# 设置内存限制 (MB)
memory-report = true
limit-as = 256

# 当收到终止信号时退出
die-on-term = true

# 禁用预创建线程
thunder-lock = true

# 使用心跳功能
uwsgi-heartbeat = 30

# 其他优化选项
lazy-apps = true
